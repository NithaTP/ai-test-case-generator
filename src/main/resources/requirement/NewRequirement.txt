Functional Requirements Document

Feature Scope: User Login → Product Selection → Checkout → Payment Gateway → Order Confirmation

1. Payment Gateway Integration
1.1 Purpose

To allow users to securely complete online payments using supported payment methods and confirm order placement.

2. Payment Page
2.1 Navigation to Payment Page

User shall be redirected to the Payment Page after successful validation of shipping details.

Payment Page shall display Order Summary before payment processing.

User shall not access Payment Page if cart is empty.

If session expires, user shall be redirected to Login Page.

2.2 Payment Page Components

The system shall provide the following components:

Order Summary section

Payment method selection options

Payment details input form (dynamic based on method)

“Pay Now” button

“Cancel Payment” button

Error/Status message display area

Secure transaction indicator (HTTPS/lock icon)

3. Order Summary Section
3.1 Display Requirements

The system shall display:

Product name

Quantity

Unit price

Subtotal per item

Tax amount

Shipping charges

Discount (if applicable)

Final payable amount

3.2 Calculation Rules

Final amount shall be calculated dynamically.

Any applied coupon shall be reflected immediately.

Total amount shall not be editable by user.

4. Payment Methods
4.1 Available Payment Options

The system shall support:

Credit Card

Debit Card

UPI

Net Banking

Digital Wallet

Cash on Delivery (if enabled)

At least one payment method must be selected before proceeding.

5. Credit / Debit Card Payment
5.1 Card Form Components

The system shall provide:

Card Number field

Cardholder Name field

Expiry Date field

CVV field

“Save Card” checkbox (optional)

5.2 Card Validation Rules

Card Number:

Shall accept numeric values only.

Shall be 13–19 digits (configurable).

Shall validate using Luhn algorithm.

Shall not allow empty submission.

Cardholder Name:

Shall accept alphabets and spaces.

Shall not allow empty submission.

Expiry Date:

Shall follow MM/YY format.

Shall not allow past date.

CVV:

Shall be masked.

Shall accept only numeric values.

Shall be 3 digits (4 digits for AMEX).

Inline validation messages shall appear for invalid input.

6. UPI Payment
6.1 UPI Entry

User shall enter valid UPI ID (format: example@bank).

System shall validate UPI format before submission.

QR code option shall be displayed if supported.

6.2 UPI Processing

Payment request shall be sent to UPI gateway.

Transaction shall timeout after configurable duration (default: 5 minutes).

If not completed within time, transaction shall be marked as failed.

7. Net Banking Payment

User shall select bank from dropdown list.

Bank list shall be searchable.

On selection, user shall be redirected to bank authentication page.

After bank confirmation, user shall be redirected back to application.

8. Wallet Payment

User shall select available wallet provider.

System shall redirect to wallet provider login page.

Insufficient wallet balance shall display error.

On successful authorization, user shall return to confirmation page.

9. Pay Now Button Behavior

Pay Now button shall remain disabled until all required payment fields are valid.

On click:

Button shall be disabled to prevent duplicate transactions.

Loading indicator shall appear.

Payment details shall be sent securely to payment gateway.

10. Payment Processing
10.1 Transaction Handling

The system shall:

Generate unique Transaction ID.

Send encrypted payment data to gateway.

Await success/failure response.

Log transaction details.

10.2 Duplicate Protection

Multiple rapid clicks shall not create multiple transactions.

System shall handle gateway retry safely.

11. Payment Success

Upon successful payment:

“Payment Successful” message shall be displayed.

Unique Order ID shall be generated.

Order status shall be marked as “Confirmed”.

Confirmation email shall be sent.

Invoice shall be generated.

Cart shall be cleared automatically.

12. Payment Failure

If payment fails:

Failure message shall be displayed.

Reason (if available) shall be shown without exposing sensitive details.

Order status shall be marked as “Payment Failed”.

User shall be allowed to retry payment.

Cart shall remain intact.

13. Payment Cancellation

If user cancels payment:

User shall be redirected back to Payment Page.

Order shall not be confirmed.

Cart shall not be cleared.

14. Refund Management
14.1 Admin Refund

Admin shall be able to initiate refund from order management panel.

Refund request shall be sent to payment gateway.

Refund status shall be updated in system.

14.2 User Notification

User shall receive refund confirmation email.

Refund processing timeline shall be displayed (e.g., 5–7 business days).

15. Security Requirements

All payment communication shall use HTTPS.

Payment data shall be encrypted in transit.

Sensitive fields shall not be logged.

System shall comply with PCI-DSS.

Session shall expire after configurable idle time (default: 15 minutes).

16. Performance Requirements

Payment page shall load within 3 seconds.

Transaction processing shall complete within 10 seconds.

System shall support concurrent transactions without failure.

17. Audit & Logging

System shall log:

Order ID

Transaction ID

Payment Method

Timestamp

Amount

Status (Success / Failed / Cancelled)

Logs shall be accessible to admin users only.

18. Session Termination

User may logout manually.

After logout, user must re-authenticate.

Active payment attempt shall be cancelled if session expires.